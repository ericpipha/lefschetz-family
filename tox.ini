[tox]
envlist = passagemath

[testenv:.pkg]
passenv =
    CPATH
    LIBRARY_PATH

[testenv:passagemath]
usedevelop = True
extras = passagemath
deps =
    ore_algebra @ git+https://github.com/mkauers/ore_algebra.git

passenv =
    CPATH
    LIBRARY_PATH

setenv =
    # For access to _doctest_environment.py
    PYTHONPATH=.

commands =
    python3 -c 'from sage.all__sagemath_modules import *; from lefschetz_family import Hypersurface; R = PolynomialRing(QQ, "X,Y,Z"); X, Y, Z = R.gens(); P = X**3+Y**3+Z**3; X = Hypersurface(P); print(X.period_matrix)'
